<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Conference Registration</title>

  <!-- Bootstrap 5 CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="conference-stlye.css" />
</head>

<body>
  <div class="container py-4">
    <header class="mb-3">
      <h1 class="display-5 fw-bold">Conference Registration</h1>
      <p class="text-secondary">
        Fill out the form below to register. Fields marked
        <span class="text-danger fw-semibold">*</span> are required.
      </p>
    </header>

    <div class="card rounded-4">
      <div class="card-body p-4">
     
        <form id="registrationForm" novalidate> <!-- ***** Why comment out forms when novalidate can be use? ***** novalidate to be removed --> 
          <!-- Name -->
          <div class="mb-3">
            <label for="registrantName" class="form-label fw-semibold">
              Name <span class="text-danger">*</span>
            </label>
            <input
              id="registrantName"
              name="registrantName"
              type="text"
              class="form-control"
              maxlength="70"
              required
            />
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label for="email" class="form-label fw-semibold">
              Email <span class="text-danger">*</span>
            </label>
            <input
              id="email"
              name="email"
              type="email"
              class="form-control"
              placeholder="name@example.com"
              required
            />
          </div>
          <!-- Row for Password and DOB Columns -->
          <div class="row">
            <!-- Password -->
            <div class="col-md-6 mb-3">
              <label for="password" class="form-label fw-semibold">
                Password <span class="text-danger">*</span>
              </label>
              <input
                id="password"
                name="password"
                type="password"
                class="form-control"
                required
              />
            </div>

            <!-- Date of Birth -->
            <div class="col-md-6 mb-3">
              <label for="dob" class="form-label fw-semibold">
                Date of birth <span class="text-danger">*</span>
              </label>
              <input
                id="dob"
                name="dob"
                type="date"
                class="form-control"
                value="1978-01-01"
                required
              />
            </div>
          </div>
          <!-- Row for Email, Session, and T-shirt columns -->
          <div class="row">
            <!-- Receive email updates -->
            <div class="col-md-4">
              <label class="col-form-label fw-semibold">
                Receive email updates? <span class="text-danger">*</span>
              </label>

              <div class="form-check">
                <input class="form-check-input" type="radio" id="updatesYes" name="receiveUpdates" value="yes" checked required />
                <label class="form-check-label" for="updatesYes">Yes</label>
              </div>

              <div class="form-check">
                <input class="form-check-input" type="radio" id="updatesNo" name="receiveUpdates" value="no" required />
                <label class="form-check-label" for="updatesNo">No</label>
              </div>
            </div>

            <!-- Choose sessions -->
            <div class="col-md-4">
              <label class="col-form-label fw-semibold">Choose sessions</label>

              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="sessionMorning" name="sessionMorning" value="morning" />
                <label class="form-check-label" for="sessionMorning">Morning session</label>
              </div>

              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="sessionAfternoon" name="sessionAfternoon" value="afternoon" />
                <label class="form-check-label" for="sessionAfternoon">Afternoon session</label>
              </div>
            </div>

            <!-- T-shirt size -->
            <div class="col-md-4">
              <label for="tshirtSize" class="form-label fw-semibold">
                T-shirt size <span class="text-danger">*</span>
              </label>
              <select id="tshirtSize" name="tshirtSize" class="form-select" required>
                <option value="" selected disabled>Select oneâ€¦</option>
                <option value="xsmall">X-Small</option>
                <option value="small">Small</option>
                <option value="medium">Medium</option>
                <option selected value="large">Large</option>
                <option value="xlarge">X-Large</option>
              </select>
            </div>
          </div>

          <!-- Row for Special Requests and Submit -->
          <div class="row mt-3">
            <!-- Special Requests (optional) -->
            <div class="col-md-6 mb-3">
              <label for="specialRequests" class="form-label fw-semibold">
                Special Requests
              </label>
              <textarea
                id="specialRequests"
                name="specialRequests"
                rows="3"
                cols="70"
                class="form-control"
              ></textarea>
            </div>

            <!-- Submit (processed by JS) -->
            <div class="col-md-6 d-flex flex-column justify-content-end align-items-end">
                <!-- Removed type="submit" -->
                <input id="buttonSubmit" type="button" class="btn btn-primary" value="Submit" />
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

<!-- JavaScript Here -->
<script>
  const submitBtn = document.getElementById("buttonSubmit");

  // Submit Button
  submitBtn.addEventListener("click", function () {
    console.log("Submit button clicked"); // test console.log

    // Data construction
    const name = document.getElementById("registrantName").value.trim();
    const password = document.getElementById("password").value;
    const email = document.getElementById("email").value.trim();
    const tShirtSize = document.getElementById("tshirtSize").value;
    const dateOfBirth = document.getElementById("dob").value;
    const receiveEmailUpdates = document.getElementById("updatesYes").checked;
    const sessionsAttended = [];
        if (document.getElementById("sessionMorning").checked) sessionsAttended.push("morning");
        if (document.getElementById("sessionAfternoon").checked) sessionsAttended.push("afternoon");
    const specialRequests = document.getElementById("specialRequests").value.trim();

    const errors = [];

    // Error construction
    if (name.length === 0) errors.push("Name is required.");
    if (email.length === 0) errors.push("Email is required.");
    if (password.length === 0) errors.push("Password is required.");
    if (dateOfBirth.length === 0) errors.push("Date of birth is required.");
    if (tShirtSize.length === 0) errors.push("T-shirt size is required.");
    if (sessionsAttended.length === 0) errors.push("Please select at least one session.");

    if (errors.length > 0) {
      alert("Please fix the following:\n\n" + errors.join("\n"));
      return;
    }

    const registration = {
      name,
      password,
      email,
      tShirtSize,
      dateOfBirth,
      receiveEmailUpdates,
      sessionsAttended,
      specialRequests
    };
    
    console.log("Registration object:", registration);
    // Registration information alert to be removed later
    alert("Registration Info:" + JSON.stringify(registration, null, 5));

  });
</script>
</body>
</html>
